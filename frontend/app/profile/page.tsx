'use client';import {useEffect,useState} from 'react';import {api} from '../../lib/api';type Profile={id:number;first_name:string|null;last_name:string|null;email:string|null;phone:string|null;created_at:string};export default function ProfilePage(){const[data,setData]=useState<Profile|null>(null);const[error,setError]=useState<string|null>(null);useEffect(()=>{const token=localStorage.getItem('quran_token');if(!token){setError('ابتدا وارد شوید.');return;}api('GET','/me',undefined,token).then(setData).catch((e:any)=>setError(e.message||'خطا در دریافت پروفایل'));},[]);return(<main><h1>پروفایل</h1>{error&&<div className='alert' style={{borderColor:'#a33'}}>❌ {error}</div>}{data&&(<div className='card' style={{maxWidth:520}}><h3>اطلاعات کاربر</h3><div className='muted'>نام: {data.first_name||'—'}</div><div className='muted'>نام خانوادگی: {data.last_name||'—'}</div><div className='muted'>ایمیل: {data.email||'—'}</div><div className='muted'>موبایل: {data.phone||'—'}</div><div className='muted'>شناسه: {data.id}</div><button className='button' style={{marginTop:12}} onClick={()=>{localStorage.removeItem('quran_token');location.href='/'}}>خروج</button></div>)}</main>) }